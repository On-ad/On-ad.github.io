<!-- side-catalog -->
<script>
    function generateCatalog(selector) {
        _containerSelector = '.markdown-body';

        var P = $(_containerSelector), a, n, t, l, i, c;
        a = P.find('h1,h2,h3,h4,h5,h6');

        $(selector).html('');

        a.each(function () {
            n = $(this).prop('tagName').toLowerCase();
            i = "#" + $(this).prop('id');
            t = $(this).text();
            c = $('<a href="' + i + '" rel="nofollow">' + t + '</a>');
            l = $('<li class="' + n + '_nav"></li>').append(c);
            $(selector).append(l);
        });

        return true;
    }

    generateCatalog(".catalog-body");

    $(".catalog-toggle").click((function (e) {
        e.preventDefault();
        $('.side-catalog').toggleClass("fold")
    }));

    async("{{ '/static/js/jquery.nav.js' | prepend: site.baseurl }}", function () {
        $('.catalog-body').onePageNav({
            currentClass: "active",
            changeHash: !1,
            easing: "swing",
            filter: "",
            scrollSpeed: 700,
            scrollOffset: 10,
            scrollThreshold: .1,
            begin: null,
            end: null,
            scrollChange: function () {
                var windowTop = this.$win.scrollTop();
                var position = this.getSection(windowTop);
                var $parent;

                //If the position is set
                if (position !== null) {
                    $parent = this.$elem.find('a[href$="#' + position + '"]').parent();

                    //If it's not already the current section
                    if (!$parent.hasClass(this.config.currentClass)) {
                        //Change the highlighted nav item
                        this.adjustNav(this, $parent);

                        //If there is a scrollChange callback
                        if (this.config.scrollChange) {
                            this.config.scrollChange($parent);
                        }
                    }
                }
            },
            padding: 80
        });
    });


</script>